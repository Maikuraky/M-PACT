------------------------------------------------------
Job is running on node lgn1
lgn1
lgn1
lgn1
lgn1
------------------------------------------------------
PBS_ARRAYID :
PBS_ENVIRONMENT : PBS_BATCH
PBS_GPUFILE : /var/spool/torque/aux//26071.blindspotgpu
PBS_JOBCOOKIE : E49C9B42E93587D1334D16F5CFAA449A
PBS_JOBID : 26071.blindspot
PBS_JOBNAME : Resnet_Multigpu_4_Threaded_Test
PBS_MOMPORT : 15003
PBS_NODEFILE : /var/spool/torque/aux//26071.blindspot
PBS_NODENUM : 0
PBS_NP : 5
PBS_NUM_NODES : 1
PBS_NUM_PPN : 5
PBS_O_HOME : /home/madantrg
PBS_O_HOST : hyaloidcanal
PBS_O_LANG : en_US.UTF-8
PBS_O_LOGNAME : madantrg
PBS_O_PATH : /z/sw/bin/:/z/sw/sbin/:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/snap/bin
PBS_O_SHELL : /bin/bash
PBS_O_WORKDIR : /z/home/madantrg/tf-activity-recognition-framework/scripts/PBS
PBS_QUEUE : batch
PBS_TASKNUM : 1
The contents of gpu file are:
lgn1-gpu3
lgn1-gpu2
lgn1-gpu1
lgn1-gpu0
----------End of GPU file------
I got allocated the following gpus
gpu: 3
gpu: 2
gpu: 1
gpu: 0
PBS: qsub is running on hyaloidcanal
PBS: originating queue is batch
PBS: executing queue is batch
PBS: working directory is /z/home/madantrg/tf-activity-recognition-framework/scripts/PBS
PBS: execution mode is PBS_BATCH
PBS: job identifier is 26071.blindspot
PBS: job name is Resnet_Multigpu_4_Threaded_Test
PBS: node file is /var/spool/torque/aux//26071.blindspot
PBS: current home directory is /home/madantrg
PBS: PATH = /z/sw/bin/:/z/sw/sbin/:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/snap/bin
------------------------------------------------------
start
lgn1
Wed Nov  8 20:10:31 2017       
+-----------------------------------------------------------------------------+
| NVIDIA-SMI 384.66                 Driver Version: 384.66                    |
|-------------------------------+----------------------+----------------------+
| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |
| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |
|===============================+======================+======================|
|   0  GeForce GTX TIT...  Off  | 00000000:02:00.0 Off |                  N/A |
| 24%   64C    P0    74W / 250W |      0MiB / 12206MiB |      0%      Default |
+-------------------------------+----------------------+----------------------+
|   1  GeForce GTX TIT...  Off  | 00000000:03:00.0 Off |                  N/A |
| 27%   67C    P0    78W / 250W |      0MiB / 12207MiB |      0%      Default |
+-------------------------------+----------------------+----------------------+
|   2  GeForce GTX TIT...  Off  | 00000000:82:00.0 Off |                  N/A |
| 22%   58C    P0    74W / 250W |      0MiB / 12207MiB |      0%      Default |
+-------------------------------+----------------------+----------------------+
|   3  GeForce GTX TIT...  Off  | 00000000:83:00.0 Off |                  N/A |
| 22%   57C    P0    65W / 250W |      0MiB / 12207MiB |      2%      Default |
+-------------------------------+----------------------+----------------------+
                                                                               
+-----------------------------------------------------------------------------+
| Processes:                                                       GPU Memory |
|  GPU       PID  Type  Process name                               Usage      |
|=============================================================================|
|  No running processes found                                                 |
+-----------------------------------------------------------------------------+
Train Resnet : 4 GPU threaded test
2017-11-08 20:11:17.679627: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.1 instructions, but these are available on your machine and could speed up CPU computations.
2017-11-08 20:11:17.679674: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.2 instructions, but these are available on your machine and could speed up CPU computations.
2017-11-08 20:11:17.679699: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX instructions, but these are available on your machine and could speed up CPU computations.
2017-11-08 20:11:17.679710: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX2 instructions, but these are available on your machine and could speed up CPU computations.
2017-11-08 20:11:17.679719: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use FMA instructions, but these are available on your machine and could speed up CPU computations.
2017-11-08 20:11:20.343125: I tensorflow/core/common_runtime/gpu/gpu_device.cc:940] Found device 0 with properties: 
name: GeForce GTX TITAN X
major: 5 minor: 2 memoryClockRate (GHz) 1.076
pciBusID 0000:83:00.0
Total memory: 11.92GiB
Free memory: 11.81GiB
2017-11-08 20:11:20.645367: W tensorflow/stream_executor/cuda/cuda_driver.cc:523] A non-primary context 0x18743fa0 exists before initializing the StreamExecutor. We haven't verified StreamExecutor works with that.
2017-11-08 20:11:20.647150: I tensorflow/core/common_runtime/gpu/gpu_device.cc:940] Found device 1 with properties: 
name: GeForce GTX TITAN X
major: 5 minor: 2 memoryClockRate (GHz) 1.076
pciBusID 0000:82:00.0
Total memory: 11.92GiB
Free memory: 11.81GiB
2017-11-08 20:11:20.970589: W tensorflow/stream_executor/cuda/cuda_driver.cc:523] A non-primary context 0x1873fb10 exists before initializing the StreamExecutor. We haven't verified StreamExecutor works with that.
2017-11-08 20:11:20.972199: I tensorflow/core/common_runtime/gpu/gpu_device.cc:940] Found device 2 with properties: 
name: GeForce GTX TITAN X
major: 5 minor: 2 memoryClockRate (GHz) 1.076
pciBusID 0000:03:00.0
Total memory: 11.92GiB
Free memory: 11.81GiB
2017-11-08 20:11:21.325553: W tensorflow/stream_executor/cuda/cuda_driver.cc:523] A non-primary context 0x1873b680 exists before initializing the StreamExecutor. We haven't verified StreamExecutor works with that.
2017-11-08 20:11:21.327311: I tensorflow/core/common_runtime/gpu/gpu_device.cc:940] Found device 3 with properties: 
name: GeForce GTX TITAN X
major: 5 minor: 2 memoryClockRate (GHz) 1.076
pciBusID 0000:02:00.0
Total memory: 11.92GiB
Free memory: 11.81GiB
2017-11-08 20:11:21.327746: I tensorflow/core/common_runtime/gpu/gpu_device.cc:832] Peer access not supported between device ordinals 0 and 2
2017-11-08 20:11:21.327780: I tensorflow/core/common_runtime/gpu/gpu_device.cc:832] Peer access not supported between device ordinals 0 and 3
2017-11-08 20:11:21.327838: I tensorflow/core/common_runtime/gpu/gpu_device.cc:832] Peer access not supported between device ordinals 1 and 2
2017-11-08 20:11:21.327860: I tensorflow/core/common_runtime/gpu/gpu_device.cc:832] Peer access not supported between device ordinals 1 and 3
2017-11-08 20:11:21.327880: I tensorflow/core/common_runtime/gpu/gpu_device.cc:832] Peer access not supported between device ordinals 2 and 0
2017-11-08 20:11:21.327900: I tensorflow/core/common_runtime/gpu/gpu_device.cc:832] Peer access not supported between device ordinals 2 and 1
2017-11-08 20:11:21.328191: I tensorflow/core/common_runtime/gpu/gpu_device.cc:832] Peer access not supported between device ordinals 3 and 0
2017-11-08 20:11:21.328217: I tensorflow/core/common_runtime/gpu/gpu_device.cc:832] Peer access not supported between device ordinals 3 and 1
2017-11-08 20:11:21.328366: I tensorflow/core/common_runtime/gpu/gpu_device.cc:961] DMA: 0 1 2 3 
2017-11-08 20:11:21.328382: I tensorflow/core/common_runtime/gpu/gpu_device.cc:971] 0:   Y Y N N 
2017-11-08 20:11:21.328393: I tensorflow/core/common_runtime/gpu/gpu_device.cc:971] 1:   Y Y N N 
2017-11-08 20:11:21.328403: I tensorflow/core/common_runtime/gpu/gpu_device.cc:971] 2:   N N Y Y 
2017-11-08 20:11:21.328412: I tensorflow/core/common_runtime/gpu/gpu_device.cc:971] 3:   N N Y Y 
2017-11-08 20:11:21.328437: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX TITAN X, pci bus id: 0000:83:00.0)
2017-11-08 20:11:21.328469: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Creating TensorFlow device (/gpu:1) -> (device: 1, name: GeForce GTX TITAN X, pci bus id: 0000:82:00.0)
2017-11-08 20:11:21.328482: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Creating TensorFlow device (/gpu:2) -> (device: 2, name: GeForce GTX TITAN X, pci bus id: 0000:03:00.0)
2017-11-08 20:11:21.328492: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Creating TensorFlow device (/gpu:3) -> (device: 3, name: GeForce GTX TITAN X, pci bus id: 0000:02:00.0)
Setup of current experiments:  Namespace(baseDataPath='/z/home/madantrg/Datasets', dataset='HMDB51', expName='resnet_multigpu_4_threaded_test', fName='trainlist', inputDims=50, load=0, lr=0.001, model='resnet', nEpochs=1, numGpus=4, numVids=27, outputDims=51, saveFreq=1, seqLength=50, size=224, split=1, train=1, valFreq=1, wd=0.0)
resnet initialized
Generating RESNET network layers
Generating RESNET network layers
Generating RESNET network layers
Generating RESNET network layers
0
Saving...
10
Tot load time:   8.22742486
Tot train time:  11.887140274
Tot time:        34.4283640385
end
