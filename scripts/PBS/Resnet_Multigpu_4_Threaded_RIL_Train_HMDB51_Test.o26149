------------------------------------------------------
Job is running on node lgn1
lgn1
lgn1
lgn1
lgn1
------------------------------------------------------
PBS_ARRAYID :
PBS_ENVIRONMENT : PBS_BATCH
PBS_GPUFILE : /var/spool/torque/aux//26149.blindspotgpu
PBS_JOBCOOKIE : 80972E0D83FCB49BC69B276BE946B5CF
PBS_JOBID : 26149.blindspot
PBS_JOBNAME : Resnet_Multigpu_4_Threaded_RIL_Train_HMDB51_Test
PBS_MOMPORT : 15003
PBS_NODEFILE : /var/spool/torque/aux//26149.blindspot
PBS_NODENUM : 0
PBS_NP : 5
PBS_NUM_NODES : 1
PBS_NUM_PPN : 5
PBS_O_HOME : /home/madantrg
PBS_O_HOST : hyaloidcanal
PBS_O_LANG : en_US.UTF-8
PBS_O_LOGNAME : madantrg
PBS_O_PATH : /z/sw/bin/:/z/sw/sbin/:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/snap/bin
PBS_O_SHELL : /bin/bash
PBS_O_WORKDIR : /z/home/madantrg/tf-activity-recognition-framework/scripts/PBS
PBS_QUEUE : batch
PBS_TASKNUM : 1
The contents of gpu file are:
lgn1-gpu3
lgn1-gpu2
lgn1-gpu1
lgn1-gpu0
----------End of GPU file------
I got allocated the following gpus
gpu: 3
gpu: 2
gpu: 1
gpu: 0
PBS: qsub is running on hyaloidcanal
PBS: originating queue is batch
PBS: executing queue is batch
PBS: working directory is /z/home/madantrg/tf-activity-recognition-framework/scripts/PBS
PBS: execution mode is PBS_BATCH
PBS: job identifier is 26149.blindspot
PBS: job name is Resnet_Multigpu_4_Threaded_RIL_Train_HMDB51_Test
PBS: node file is /var/spool/torque/aux//26149.blindspot
PBS: current home directory is /home/madantrg
PBS: PATH = /z/sw/bin/:/z/sw/sbin/:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/snap/bin
------------------------------------------------------
start
lgn1
Thu Nov  9 16:49:42 2017       
+-----------------------------------------------------------------------------+
| NVIDIA-SMI 384.66                 Driver Version: 384.66                    |
|-------------------------------+----------------------+----------------------+
| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |
| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |
|===============================+======================+======================|
|   0  GeForce GTX TIT...  On   | 00000000:02:00.0  On |                  N/A |
| 22%   44C    P8    16W / 250W |     39MiB / 12205MiB |      0%      Default |
+-------------------------------+----------------------+----------------------+
|   1  GeForce GTX TIT...  On   | 00000000:03:00.0 Off |                  N/A |
| 22%   49C    P8    18W / 250W |      2MiB / 12207MiB |      0%      Default |
+-------------------------------+----------------------+----------------------+
|   2  GeForce GTX TIT...  On   | 00000000:82:00.0 Off |                  N/A |
| 22%   51C    P8    18W / 250W |      2MiB / 12207MiB |      0%      Default |
+-------------------------------+----------------------+----------------------+
|   3  GeForce GTX TIT...  On   | 00000000:83:00.0 Off |                  N/A |
| 22%   51C    P8    16W / 250W |      2MiB / 12207MiB |      0%      Default |
+-------------------------------+----------------------+----------------------+
                                                                               
+-----------------------------------------------------------------------------+
| Processes:                                                       GPU Memory |
|  GPU       PID  Type  Process name                               Usage      |
|=============================================================================|
|    0      2970    G   /usr/lib/xorg/Xorg                              37MiB |
+-----------------------------------------------------------------------------+
Train Resnet
2017-11-09 16:50:14.401165: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.1 instructions, but these are available on your machine and could speed up CPU computations.
2017-11-09 16:50:14.401206: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.2 instructions, but these are available on your machine and could speed up CPU computations.
2017-11-09 16:50:14.401229: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX instructions, but these are available on your machine and could speed up CPU computations.
2017-11-09 16:50:14.401240: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX2 instructions, but these are available on your machine and could speed up CPU computations.
2017-11-09 16:50:14.401249: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use FMA instructions, but these are available on your machine and could speed up CPU computations.
2017-11-09 16:50:14.872322: I tensorflow/core/common_runtime/gpu/gpu_device.cc:940] Found device 0 with properties: 
name: GeForce GTX TITAN X
major: 5 minor: 2 memoryClockRate (GHz) 1.076
pciBusID 0000:83:00.0
Total memory: 11.92GiB
Free memory: 11.80GiB
2017-11-09 16:50:15.181679: W tensorflow/stream_executor/cuda/cuda_driver.cc:523] A non-primary context 0x187813b0 exists before initializing the StreamExecutor. We haven't verified StreamExecutor works with that.
2017-11-09 16:50:15.182764: I tensorflow/core/common_runtime/gpu/gpu_device.cc:940] Found device 1 with properties: 
name: GeForce GTX TITAN X
major: 5 minor: 2 memoryClockRate (GHz) 1.076
pciBusID 0000:82:00.0
Total memory: 11.92GiB
Free memory: 11.80GiB
2017-11-09 16:50:15.509044: W tensorflow/stream_executor/cuda/cuda_driver.cc:523] A non-primary context 0x1877cf20 exists before initializing the StreamExecutor. We haven't verified StreamExecutor works with that.
2017-11-09 16:50:15.510545: I tensorflow/core/common_runtime/gpu/gpu_device.cc:940] Found device 2 with properties: 
name: GeForce GTX TITAN X
major: 5 minor: 2 memoryClockRate (GHz) 1.076
pciBusID 0000:03:00.0
Total memory: 11.92GiB
Free memory: 11.80GiB
2017-11-09 16:50:15.810753: W tensorflow/stream_executor/cuda/cuda_driver.cc:523] A non-primary context 0x18778a90 exists before initializing the StreamExecutor. We haven't verified StreamExecutor works with that.
2017-11-09 16:50:15.811556: I tensorflow/core/common_runtime/gpu/gpu_device.cc:940] Found device 3 with properties: 
name: GeForce GTX TITAN X
major: 5 minor: 2 memoryClockRate (GHz) 1.076
pciBusID 0000:02:00.0
Total memory: 11.92GiB
Free memory: 11.77GiB
2017-11-09 16:50:15.811783: I tensorflow/core/common_runtime/gpu/gpu_device.cc:832] Peer access not supported between device ordinals 0 and 2
2017-11-09 16:50:15.811796: I tensorflow/core/common_runtime/gpu/gpu_device.cc:832] Peer access not supported between device ordinals 0 and 3
2017-11-09 16:50:15.811817: I tensorflow/core/common_runtime/gpu/gpu_device.cc:832] Peer access not supported between device ordinals 1 and 2
2017-11-09 16:50:15.811826: I tensorflow/core/common_runtime/gpu/gpu_device.cc:832] Peer access not supported between device ordinals 1 and 3
2017-11-09 16:50:15.811833: I tensorflow/core/common_runtime/gpu/gpu_device.cc:832] Peer access not supported between device ordinals 2 and 0
2017-11-09 16:50:15.811841: I tensorflow/core/common_runtime/gpu/gpu_device.cc:832] Peer access not supported between device ordinals 2 and 1
2017-11-09 16:50:15.811988: I tensorflow/core/common_runtime/gpu/gpu_device.cc:832] Peer access not supported between device ordinals 3 and 0
2017-11-09 16:50:15.811998: I tensorflow/core/common_runtime/gpu/gpu_device.cc:832] Peer access not supported between device ordinals 3 and 1
2017-11-09 16:50:15.812051: I tensorflow/core/common_runtime/gpu/gpu_device.cc:961] DMA: 0 1 2 3 
2017-11-09 16:50:15.812057: I tensorflow/core/common_runtime/gpu/gpu_device.cc:971] 0:   Y Y N N 
2017-11-09 16:50:15.812061: I tensorflow/core/common_runtime/gpu/gpu_device.cc:971] 1:   Y Y N N 
2017-11-09 16:50:15.812065: I tensorflow/core/common_runtime/gpu/gpu_device.cc:971] 2:   N N Y Y 
2017-11-09 16:50:15.812069: I tensorflow/core/common_runtime/gpu/gpu_device.cc:971] 3:   N N Y Y 
2017-11-09 16:50:15.812077: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX TITAN X, pci bus id: 0000:83:00.0)
2017-11-09 16:50:15.812090: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Creating TensorFlow device (/gpu:1) -> (device: 1, name: GeForce GTX TITAN X, pci bus id: 0000:82:00.0)
2017-11-09 16:50:15.812095: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Creating TensorFlow device (/gpu:2) -> (device: 2, name: GeForce GTX TITAN X, pci bus id: 0000:03:00.0)
2017-11-09 16:50:15.812098: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Creating TensorFlow device (/gpu:3) -> (device: 3, name: GeForce GTX TITAN X, pci bus id: 0000:02:00.0)
Setup of current experiments:  Namespace(baseDataPath='/z/home/madantrg/Datasets', dataset='HMDB51', expName='resnet_RIL_HMDB51', fName='trainlist', inputDims=250, load=0, lr=0.001, model='resnet_RIL', nEpochs=30, numGpus=4, numVids=100, outputDims=51, saveFreq=1, seqLength=50, size=224, split=1, train=1, valFreq=30, wd=0.0)
resnet RIL initialized
Generating RESNET RIL network layers
Generating RESNET RIL network layers
Generating RESNET RIL network layers
Generating RESNET RIL network layers
100
Saving...
100
100
Saving...
100
Saving...
100
Saving...
100
Saving...
100
Saving...
