------------------------------------------------------
Job is running on node lgn5
------------------------------------------------------
PBS_ARRAYID :
PBS_ENVIRONMENT : PBS_BATCH
PBS_GPUFILE : /var/spool/torque/aux//25797.blindspotgpu
PBS_JOBCOOKIE : 964FFBE24733E69A0B81135DA4814AB8
PBS_JOBID : 25797.blindspot
PBS_JOBNAME : Resnet_Multigpu_4_Test
PBS_MOMPORT : 15003
PBS_NODEFILE : /var/spool/torque/aux//25797.blindspot
PBS_NODENUM : 0
PBS_NP : 1
PBS_NUM_NODES : 1
PBS_NUM_PPN : 1
PBS_O_HOME : /home/madantrg
PBS_O_HOST : hyaloidcanal
PBS_O_LANG : en_US.UTF-8
PBS_O_LOGNAME : madantrg
PBS_O_PATH : /z/sw/bin/:/z/sw/sbin/:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/snap/bin
PBS_O_SHELL : /bin/bash
PBS_O_WORKDIR : /z/home/madantrg/tf-activity-recognition-framework/scripts/PBS
PBS_QUEUE : batch
PBS_TASKNUM : 1
The contents of gpu file are:
lgn5-gpu3
lgn5-gpu2
lgn5-gpu1
lgn5-gpu0
----------End of GPU file------
I got allocated the following gpus
gpu: 3
gpu: 2
gpu: 1
gpu: 0
PBS: qsub is running on hyaloidcanal
PBS: originating queue is batch
PBS: executing queue is batch
PBS: working directory is /z/home/madantrg/tf-activity-recognition-framework/scripts/PBS
PBS: execution mode is PBS_BATCH
PBS: job identifier is 25797.blindspot
PBS: job name is Resnet_Multigpu_4_Test
PBS: node file is /var/spool/torque/aux//25797.blindspot
PBS: current home directory is /home/madantrg
PBS: PATH = /z/sw/bin/:/z/sw/sbin/:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/snap/bin
------------------------------------------------------
start
lgn5
Mon Nov  6 02:34:29 2017       
+-----------------------------------------------------------------------------+
| NVIDIA-SMI 381.09                 Driver Version: 381.09                    |
|-------------------------------+----------------------+----------------------+
| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |
| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |
|===============================+======================+======================|
|   0  TITAN Xp            On   | 0000:02:00.0     Off |                  N/A |
| 23%   30C    P8    17W / 250W |      0MiB / 12189MiB |      0%      Default |
+-------------------------------+----------------------+----------------------+
|   1  TITAN Xp            On   | 0000:03:00.0     Off |                  N/A |
| 23%   31C    P8    16W / 250W |      0MiB / 12189MiB |      0%      Default |
+-------------------------------+----------------------+----------------------+
|   2  TITAN Xp            On   | 0000:82:00.0     Off |                  N/A |
| 23%   30C    P8    16W / 250W |      0MiB / 12189MiB |      0%      Default |
+-------------------------------+----------------------+----------------------+
|   3  TITAN Xp            On   | 0000:83:00.0     Off |                  N/A |
| 23%   33C    P8    16W / 250W |      0MiB / 12189MiB |      0%      Default |
+-------------------------------+----------------------+----------------------+
                                                                               
+-----------------------------------------------------------------------------+
| Processes:                                                       GPU Memory |
|  GPU       PID  Type  Process name                               Usage      |
|=============================================================================|
|  No running processes found                                                 |
+-----------------------------------------------------------------------------+
Train Resnet : 4 GPU test
2017-11-06 02:35:05.821253: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.1 instructions, but these are available on your machine and could speed up CPU computations.
2017-11-06 02:35:05.821319: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.2 instructions, but these are available on your machine and could speed up CPU computations.
2017-11-06 02:35:05.821356: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX instructions, but these are available on your machine and could speed up CPU computations.
2017-11-06 02:35:05.821367: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX2 instructions, but these are available on your machine and could speed up CPU computations.
2017-11-06 02:35:05.821378: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use FMA instructions, but these are available on your machine and could speed up CPU computations.
2017-11-06 02:35:06.601279: I tensorflow/core/common_runtime/gpu/gpu_device.cc:940] Found device 0 with properties: 
name: TITAN Xp
major: 6 minor: 1 memoryClockRate (GHz) 1.911
pciBusID 0000:83:00.0
Total memory: 11.90GiB
Free memory: 11.74GiB
2017-11-06 02:35:07.044265: W tensorflow/stream_executor/cuda/cuda_driver.cc:523] A non-primary context 0x1790b460 exists before initializing the StreamExecutor. We haven't verified StreamExecutor works with that.
2017-11-06 02:35:07.046304: I tensorflow/core/common_runtime/gpu/gpu_device.cc:940] Found device 1 with properties: 
name: TITAN Xp
major: 6 minor: 1 memoryClockRate (GHz) 1.911
pciBusID 0000:82:00.0
Total memory: 11.90GiB
Free memory: 11.74GiB
2017-11-06 02:35:07.427100: W tensorflow/stream_executor/cuda/cuda_driver.cc:523] A non-primary context 0x179075c0 exists before initializing the StreamExecutor. We haven't verified StreamExecutor works with that.
2017-11-06 02:35:07.428917: I tensorflow/core/common_runtime/gpu/gpu_device.cc:940] Found device 2 with properties: 
name: TITAN Xp
major: 6 minor: 1 memoryClockRate (GHz) 1.911
pciBusID 0000:03:00.0
Total memory: 11.90GiB
Free memory: 11.74GiB
2017-11-06 02:35:07.791553: W tensorflow/stream_executor/cuda/cuda_driver.cc:523] A non-primary context 0x178e2090 exists before initializing the StreamExecutor. We haven't verified StreamExecutor works with that.
2017-11-06 02:35:07.792607: I tensorflow/core/common_runtime/gpu/gpu_device.cc:940] Found device 3 with properties: 
name: TITAN Xp
major: 6 minor: 1 memoryClockRate (GHz) 1.911
pciBusID 0000:02:00.0
Total memory: 11.90GiB
Free memory: 11.74GiB
2017-11-06 02:35:07.793493: I tensorflow/core/common_runtime/gpu/gpu_device.cc:832] Peer access not supported between device ordinals 0 and 2
2017-11-06 02:35:07.793510: I tensorflow/core/common_runtime/gpu/gpu_device.cc:832] Peer access not supported between device ordinals 0 and 3
2017-11-06 02:35:07.793534: I tensorflow/core/common_runtime/gpu/gpu_device.cc:832] Peer access not supported between device ordinals 1 and 2
2017-11-06 02:35:07.793543: I tensorflow/core/common_runtime/gpu/gpu_device.cc:832] Peer access not supported between device ordinals 1 and 3
2017-11-06 02:35:07.793551: I tensorflow/core/common_runtime/gpu/gpu_device.cc:832] Peer access not supported between device ordinals 2 and 0
2017-11-06 02:35:07.793559: I tensorflow/core/common_runtime/gpu/gpu_device.cc:832] Peer access not supported between device ordinals 2 and 1
2017-11-06 02:35:07.794309: I tensorflow/core/common_runtime/gpu/gpu_device.cc:832] Peer access not supported between device ordinals 3 and 0
2017-11-06 02:35:07.794325: I tensorflow/core/common_runtime/gpu/gpu_device.cc:832] Peer access not supported between device ordinals 3 and 1
2017-11-06 02:35:07.794383: I tensorflow/core/common_runtime/gpu/gpu_device.cc:961] DMA: 0 1 2 3 
2017-11-06 02:35:07.794390: I tensorflow/core/common_runtime/gpu/gpu_device.cc:971] 0:   Y Y N N 
2017-11-06 02:35:07.794394: I tensorflow/core/common_runtime/gpu/gpu_device.cc:971] 1:   Y Y N N 
2017-11-06 02:35:07.794398: I tensorflow/core/common_runtime/gpu/gpu_device.cc:971] 2:   N N Y Y 
2017-11-06 02:35:07.794402: I tensorflow/core/common_runtime/gpu/gpu_device.cc:971] 3:   N N Y Y 
2017-11-06 02:35:07.794419: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Creating TensorFlow device (/gpu:0) -> (device: 0, name: TITAN Xp, pci bus id: 0000:83:00.0)
2017-11-06 02:35:07.794434: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Creating TensorFlow device (/gpu:1) -> (device: 1, name: TITAN Xp, pci bus id: 0000:82:00.0)
2017-11-06 02:35:07.794439: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Creating TensorFlow device (/gpu:2) -> (device: 2, name: TITAN Xp, pci bus id: 0000:03:00.0)
2017-11-06 02:35:07.794443: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Creating TensorFlow device (/gpu:3) -> (device: 3, name: TITAN Xp, pci bus id: 0000:02:00.0)
Setup of current experiments:  Namespace(baseDataPath='/z/home/madantrg/Datasets', dataset='HMDB51', expName='resnet_multigpu_test', fName='trainlist', inputDims=50, load=0, lr=0.001, model='resnet', nEpochs=1, numGpus=4, numVids=3570, outputDims=51, saveFreq=1, seqLength=50, size=224, split=1, train=1, valFreq=1, wd=0.0)
resnet initialized
Generating RESNET network layers
Generating RESNET network layers
Generating RESNET network layers
Generating RESNET network layers
Saving...
validation acc:  0.00420673076923
Tot load time:  2715.03317475
Tot train time:  481.108890295
Tot time:  4601.23986101
end
